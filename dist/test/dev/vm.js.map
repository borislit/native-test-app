{"version":3,"sources":["vm.js"],"names":["renderVM","loadData","file","JSON","parse","fs","readFileSync","toString","ex","template","data","engine","Engine","velocityData","velocityDataPrivate","render","Object","assign"],"mappings":";;;;;QAWgBA,Q,GAAAA,Q;;AAXhB;;;;AACA;;;;AAEA,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,MAAI;AACF,WAAOC,KAAKC,KAAL,CAAWC,aAAGC,YAAH,CAAgBJ,IAAhB,EAAsB,OAAtB,EAA+BK,QAA/B,EAAX,CAAP;AACD,GAFD,CAEE,OAAOC,EAAP,EAAW;AACX,UAAMA,EAAN;AACD;AACF;;AAEM,SAASR,QAAT,CAAkBS,QAAlB,EAA4BC,IAA5B,EAAkC;AACvC,MAAMC,SAAS,IAAIC,gBAAJ,CAAW,EAAEH,kBAAF,EAAX,CAAf;AACA,MAAMI,eAAeZ,SAAS,sBAAT,CAArB;AACA,MAAMa,sBAAsBb,SAAS,8BAAT,CAA5B;;AAEA,SAAOU,OAAOI,MAAP,CACLC,OAAOC,MAAP,CAAc,EAAd,EAAkBJ,YAAlB,EAAgCC,mBAAhC,EAAqDJ,IAArD,CADK,CAAP;AAGD","file":"vm.js","sourcesContent":["import fs from 'fs';\nimport { Engine } from 'velocity';\n\nfunction loadData(file) {\n  try {\n    return JSON.parse(fs.readFileSync(file, 'utf-8').toString());\n  } catch (ex) {\n    throw ex;\n  }\n}\n\nexport function renderVM(template, data) {\n  const engine = new Engine({ template });\n  const velocityData = loadData('./velocity.data.json');\n  const velocityDataPrivate = loadData('./velocity.private.data.json');\n\n  return engine.render(\n    Object.assign({}, velocityData, velocityDataPrivate, data),\n  );\n}\n"]}