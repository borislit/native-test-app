{"version":3,"sources":["layout.js"],"names":["teamNames","Layout","state","teamsToShow","selectedTeams","Wix","Data","Public","get","scope","SCOPE","COMPONENT","console","log","data","setState","JSON","parse","Teams","newVal","team","teams","includes","push","_","reject","item","set","stringify","value","filter","startsWith","toLowerCase","updateTeams","map","isTeamSelected","onTeamChange","React","Component"],"mappings":"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","file":"layout.js","sourcesContent":["import UI from 'editor-ui-lib';\nimport React from 'react'\nimport Wix from 'Wix';\nimport _ from 'lodash';\n\nconst teamNames = [\n    \"Russia\",\n    \"Saudi Arabia\",\n    \"Egypt\",\n    \"Uruguay\",\n    \"Portugal\",\n    \"Spain\",\n    \"Morocco\",\n    \"Iran\",\n    \"France\",\n    \"Australia\",\n    \"Peru\",\n    \"Denmark\",\n    \"Argentina\",\n    \"Iceland\",\n    \"Croatia\",\n    \"Nigeria\",\n    \"Brazil\",\n    \"Switzerland\",\n    \"Costa Rica\",\n    \"Serbia\",\n    \"Germany\",\n    \"Mexico\",\n    \"Sweden\",\n    \"South Korea\",\n    \"Belgium\",\n    \"Panama\",\n    \"Tunisia\",\n    \"England\",\n    \"Poland\",\n    \"Senegal\",\n    \"Colombia\",\n    \"Japan\"\n];\n\nexport default class Layout extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            teamsToShow: [],\n            selectedTeams: []\n        }\n    }\n    \n    componentDidMount() {\n        Wix.Data.Public.get('Teams', {scope: Wix.Data.SCOPE.COMPONENT}, data => {\n            console.log(data);\n           this.setState({\n               selectedTeams: JSON.parse(data.Teams)\n           }) \n        });\n\n    }\n\n    onTeamChange(newVal, team) {\n        let teams = this.state.selectedTeams;\n        if (newVal) {\n            if (!teams.includes(team)) teams.push(team)\n        } else {\n            teams = _.reject(teams, item => item === team);\n        }\n        this.setState({\n            selectedTeams: teams,\n            teamsToShow: []\n        });\n        Wix.Data.Public.set('Teams', JSON.stringify(teams), { scope: 'COMPONENT' });\n    }\n    updateTeams(value) {\n        if (!value) {\n            this.setState({\n              teamsToShow: []\n            });\n            return;\n        }\n        this.setState({\n            teamsToShow: teamNames.filter(team => _.startsWith(team.toLowerCase(), value.toLowerCase()))\n        })\n    }\n    isTeamSelected(team) {\n        return this.state.selectedTeams.includes(team);\n    }\n    render() {\n        return (\n            <div>\n                <hr className=\"divider-long\"/>\n                <UI.sectionDividerLabeled label=\"How does this feed look?\"/>\n                <hr className=\"divider-long\"/>\n\n\n\n                <UI.slider\n                    title=\"Columns\"\n                    min={1}\n                    max={10}\n                    defaultValue={4}\n                    onChange={(newVal) => {\n                        Wix.Data.Public.set('Columns', newVal, { scope: 'COMPONENT' })\n                    }}/>\n\n                <hr className=\"divider-long\"/>\n\n                <UI.textInput\n                    title=\"Select Teams\"\n                    placeholder=\"Type a team\"\n                    onChange={value => this.updateTeams(value)}/>\n\n                <div>\n                    {this.state.teamsToShow.map(team =>\n                <UI.checkbox\n                        label={team}\n                        defaultValue={this.isTeamSelected(team)}\n                        onChange={newVal => this.onTeamChange(newVal, team)}/>)}\n\n                </div>\n                <hr className=\"divider-long\"/>\n\n                <div>\n                    {this.state.selectedTeams.map(team =>\n                        <UI.checkbox\n                            label={team}\n                            defaultValue={true}\n                            onChange={newVal => this.onTeamChange(newVal, team)}/>)}\n\n                </div>\n\n\n\n\n            </div>\n        )\n    }\n}"]}