{"version":3,"sources":["viewerScript.js"],"names":["$w","wixSDK","city","getWeather","weather","props","onCityChanged","newCity","then","newWeather","pageReady","setSDK","WixSDK","sdk","WEATHER_WIDGET_ID","citiesWeather","Promise","resolve","setTimeout","weatherController","exports","RMI","setWeather","controllerByType","createControllers","controllerConfigs","map","config","type","module"],"mappings":";;;;;;AAsBA;;;;;;;uEAMA,iBAAyBA,EAAzB,EAA6BC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AACUC,4BADV,GACiB,UADjB;AAAA;AAAA,+BAE0BC,WAAWD,IAAX,CAF1B;;AAAA;AAEUE,+BAFV;;AAGIJ,2BAAGK,KAAH,CAAS;AACLH,sCADK;AAELE,4CAFK;AAGLE,2CAAe,gCAAW;AACtBH,2CAAWI,OAAX,EACKC,IADL,CACU;AAAA,2CAAcR,GAAGK,KAAH,CAAS;AACzBH,8CAAMK,OADmB;AAEzBH,iDAASK;AAFgB,qCAAT,CAAd;AAAA,iCADV;AAKH;AATI,yBAAT;;AAYA;;AAfJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeC,S;;;;;AAkBf;;;;;;QA5CgBC,M,GAAAA,M;;;;;;AAFhB;AACO,IAAIC,0BAAS,IAAb;AACA,SAASD,MAAT,CAAgBE,GAAhB,EAAqB;AACxB,YAFOD,MAEP,YAASC,GAAT;AACH;;AAED;;AAEA,IAAMC,oBAAoB,sCAA1B;AACA,IAAMC,gBAAgB;AAClB,gBAAY,EADM;AAElB,cAAU,EAFQ;AAGlB,aAAS;AAHS,CAAtB;AAKA,IAAMZ,aAAa,SAAbA,UAAa,CAAUD,IAAV,EAAgB;AAC/B,WAAO,IAAIc,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BC,mBAAW,YAAM;AACbD,oBAAQF,cAAcb,IAAd,CAAR;AACH,SAFD,EAEG,IAFH;AAGH,KAJM,CAAP;AAKH,CAND,CAoCA,IAAMiB,oBAAoB,SAApBA,iBAAoB,GAAM;AAC5B,WAAO;AACHT,4BADG;AAEHU,iBAAS,iBAAUC,GAAV,EAAerB,EAAf,EAAmB;AACxB,mBAAO;AACHsB,0BADG,wBACU,CAEZ;AAHE,aAAP;AAKH;AARE,KAAP;AAUH,CAXD;;AAaA,IAAMC,uCACDT,iBADC,EACmBK,iBADnB,CAAN;;AAKA;;;;AAIA,SAASK,iBAAT,CAA2BC,iBAA3B,EAA8C;AAC1C,WAAOA,kBAAkBC,GAAlB,CAAsB;AAAA,eAAUH,iBAAiBI,OAAOC,IAAxB,EAA8BD,MAA9B,CAAV;AAAA,KAAtB,CAAP;AACH;;AAGDE,OAAOT,OAAP,GAAiB;AACbI;AADa,CAAjB","file":"viewerScript.js","sourcesContent":["/*** wix-sdk.js*/\nexport let WixSDK = null;\nexport function setSDK(sdk) {\n    WixSDK = sdk;\n}\n\n/*** file.js */\n\nconst WEATHER_WIDGET_ID = \"6fa1ef51-0aaf-40bb-9d46-d2b4b5ea7e99\";\nconst citiesWeather = {\n    'Tel Aviv': 30,\n    'London': 20,\n    'Paris': 10\n};\nconst getWeather = function (city) {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve(citiesWeather[city]);\n        }, 1000)\n    })\n};\n\n/**\n *\n * @param $w (String) => Element\n * @param wixSDK - {window, user, stores, site, pay, location, crm}\n * @returns {Promise<WarmupData>}\n */\nasync function pageReady($w, wixSDK) {\n    const city = 'Tel Aviv';\n    const weather = await getWeather(city);\n    $w.props({\n        city,\n        weather,\n        onCityChanged: newCity => {\n            getWeather(newCity)\n                .then(newWeather => $w.props({\n                    city: newCity,\n                    weather: newWeather\n                }))\n        }\n    });\n\n    // return {city, weather}\n}\n\n/**\n * pageReady: ($w, wixSDK) => Promise<warmupData>\n * exprots: (RMI, $w) => Object - The controller's public API.\n */\nconst weatherController = () => {\n    return {\n        pageReady,\n        exports: function (RMI, $w) {\n            return {\n                setWeather() {\n\n                }\n            }\n        }\n    }\n};\n\nconst controllerByType = {\n    [WEATHER_WIDGET_ID]: weatherController\n};\n\n\n/**\n * @param controllerConfigs: controllerConfig[]\n * @returns Controller[] | Promise<Controller>[]\n */\nfunction createControllers(controllerConfigs) {\n    return controllerConfigs.map(config => controllerByType[config.type](config));\n}\n\n\nmodule.exports = {\n    createControllers\n};"]}